(()=>{"use strict";var e={8845:(e,t,n)=>{n.r(t),n.d(t,{default:()=>je});var r=n(6665),o=n(2719),s=n(2939),a=n(3929),i=n(6283),l=n(6773),c=n(8180),u=n(3668),d=n(1690),f=n(4767),g=n(5648),h=n(1087),y=n(397);const p=(0,r.createContext)(),m=({children:e})=>{const[t,n]=(0,r.useState)(null),[o,s]=(0,r.useState)(!0),a=async(e,t)=>{const r=await h.default.getItem("credentials");if(!r)throw new Error("No account found");const o=JSON.parse(r);if(o.email!==e||o.password!==t)throw new Error("Invalid email or password");{const t={username:o.username,email:e};n(t),await h.default.setItem("user",JSON.stringify(t))}};return(0,r.useEffect)((()=>{(async()=>{try{const e=await h.default.getItem("user");e&&n(JSON.parse(e))}catch(e){console.error("Error loading user:",e)}finally{s(!1)}})()}),[]),(0,y.jsx)(p.Provider,{value:{user:t,setUser:n,loading:o,login:a,logout:async()=>{n(null),await h.default.removeItem("user")},createAccount:async(e,t,n)=>{const r={username:e,email:t,password:n};await h.default.setItem("credentials",JSON.stringify(r)),await a(t,n)}},children:e})},x=(0,r.createContext)(),S=({children:e})=>{const[t,n]=(0,r.useState)(!0),[o,s]=(0,r.useState)(!1),[a,i]=(0,r.useState)(!1);(0,r.useEffect)((()=>{(async()=>{const e=await h.default.getItem("soundOn"),t=await h.default.getItem("darkMode"),r=await h.default.getItem("showHints");null!==e&&n("true"===e),null!==t&&s("true"===t),null!==r&&i("true"===r)})()}),[]);return(0,y.jsx)(x.Provider,{value:{soundOn:t,darkMode:o,showHints:a,updateSound:async e=>{n(e),await h.default.setItem("soundOn",e.toString())},updateDarkMode:async e=>{s(e),await h.default.setItem("darkMode",e.toString())},updateHints:async e=>{i(e),await h.default.setItem("showHints",e.toString())}},children:e})},j=(0,r.createContext)(),b={background:"#fff",text:"#000",card:"#eee",border:"#ccc",highlight:"#167B82"},q={background:"#000",text:"#fff",card:"#222",border:"#444",highlight:"#00FFFF"},C=({children:e})=>{const{darkMode:t}=(0,r.useContext)(x),n=t?q:b;return(0,y.jsx)(j.Provider,{value:n,children:e})},w=()=>(0,r.useContext)(j),v=u.default.create({container:{flex:1,padding:24,justifyContent:"center"},title:{fontSize:36,fontWeight:"bold",textAlign:"center",marginBottom:48},form:{gap:16},input:{height:50,borderWidth:1,borderRadius:8,paddingHorizontal:16,fontSize:16},footer:{marginTop:32,alignItems:"center"},link:{fontSize:16,textDecorationLine:"underline"},settingsButton:{marginTop:16}}),T=({navigation:e})=>{const{login:t,setUser:n}=(0,r.useContext)(p),[o,s]=(0,r.useState)(""),[u,h]=(0,r.useState)(""),m=w();return(0,y.jsxs)(f.default,{style:[v.container,{backgroundColor:m.background}],behavior:"height",children:[(0,y.jsx)(i.default,{style:[v.title,{color:m.text}],children:"Word Game"}),(0,y.jsxs)(a.default,{style:v.form,children:[(0,y.jsx)(l.default,{style:[v.input,{backgroundColor:m.card,color:m.text,borderColor:m.border}],placeholder:"Email",placeholderTextColor:m.border,value:o,onChangeText:s,autoCapitalize:"none",keyboardType:"email-address"}),(0,y.jsx)(l.default,{style:[v.input,{backgroundColor:m.card,color:m.text,borderColor:m.border}],placeholder:"Password",placeholderTextColor:m.border,value:u,onChangeText:h,secureTextEntry:!0}),(0,y.jsx)(c.default,{title:"Login",onPress:async()=>{if(o.trim()&&u.trim())try{await t(o.trim(),u.trim()),e.replace("Game")}catch(n){d.default.alert("Login Failed",n.message||"Incorrect email or password.")}else d.default.alert("Missing Info","Please enter your email and password.")}}),(0,y.jsx)(c.default,{title:"Play as Guest",onPress:()=>{n({username:"Guest",email:null}),e.replace("Game")}})]}),(0,y.jsxs)(a.default,{style:v.footer,children:[(0,y.jsx)(g.default,{onPress:()=>e.navigate("Register"),children:(0,y.jsx)(i.default,{style:[v.link,{color:m.highlight}],children:"Don't have an account? Register"})}),(0,y.jsx)(g.default,{style:v.settingsButton,onPress:()=>e.navigate("Settings"),children:(0,y.jsx)(i.default,{style:[v.link,{color:m.highlight}],children:"Settings"})})]})]})};var k=n(4037);const I=u.default.create({container:{flex:1,padding:24,justifyContent:"center"},title:{fontSize:28,marginBottom:24,textAlign:"center"},input:{padding:12,borderRadius:8,fontSize:16,marginBottom:16,borderWidth:1},rememberContainer:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginBottom:24},rememberText:{fontSize:16},buttonContainer:{gap:12}}),P=({navigation:e})=>{const{createAccount:t}=(0,r.useContext)(p),n=w(),[o,s]=(0,r.useState)(""),[u,g]=(0,r.useState)(""),[h,m]=(0,r.useState)(""),[x,S]=(0,r.useState)(!0);return(0,y.jsxs)(f.default,{style:[I.container,{backgroundColor:n.background}],behavior:void 0,children:[(0,y.jsx)(i.default,{style:[I.title,{color:n.text}],children:"Create Account"}),(0,y.jsx)(l.default,{style:[I.input,{backgroundColor:n.card,color:n.text,borderColor:n.border}],placeholder:"Username",placeholderTextColor:"#aaa",value:o,onChangeText:s}),(0,y.jsx)(l.default,{style:[I.input,{backgroundColor:n.card,color:n.text,borderColor:n.border}],placeholder:"Email",placeholderTextColor:"#aaa",keyboardType:"email-address",value:u,onChangeText:g}),(0,y.jsx)(l.default,{style:[I.input,{backgroundColor:n.card,color:n.text,borderColor:n.border}],placeholder:"Password",placeholderTextColor:"#aaa",secureTextEntry:!0,value:h,onChangeText:m}),(0,y.jsxs)(a.default,{style:I.rememberContainer,children:[(0,y.jsx)(i.default,{style:[I.rememberText,{color:n.text}],children:"Remember Me"}),(0,y.jsx)(k.default,{value:x,onValueChange:S,thumbColor:x?n.highlight:"#888"})]}),(0,y.jsxs)(a.default,{style:I.buttonContainer,children:[(0,y.jsx)(c.default,{title:"Register",onPress:async()=>{if(o.trim()&&u.trim()&&h.trim())if((e=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e))(u))try{await t(o.trim(),u.trim(),h.trim()),e.replace("Game")}catch(n){d.default.alert("Registration Error",n.message||"Something went wrong.")}else d.default.alert("Invalid Email","Please enter a valid email address.");else d.default.alert("Missing Info","Please fill out all fields.")}}),(0,y.jsx)(c.default,{title:"Back to Login",onPress:()=>e.goBack()})]})]})};var E=n(932);const B=(0,r.createContext)(),z=["English","French","Spanish","German","Persian","Turkish"],F=({children:e})=>{const[t,n]=(0,r.useState)("English");(0,r.useEffect)((()=>{(async()=>{try{const e=await h.default.getItem("language");e&&z.includes(e)&&n(e)}catch(e){console.error("Error loading language:",e)}})()}),[]);return(0,y.jsx)(B.Provider,{value:{language:t,changeLanguage:async e=>{z.includes(e)&&(n(e),await h.default.setItem("language",e))},SUPPORTED_LANGUAGES:z},children:e})},O={English:"\ud83c\uddfa\ud83c\uddf8",French:"\ud83c\uddeb\ud83c\uddf7",Spanish:"\ud83c\uddea\ud83c\uddf8",German:"\ud83c\udde9\ud83c\uddea",Persian:"\ud83c\uddee\ud83c\uddf7",Turkish:"\ud83c\uddf9\ud83c\uddf7"},L=u.default.create({container:{flex:1,backgroundColor:"#000",padding:20},title:{fontSize:24,color:"#fff",marginBottom:16,textAlign:"center"},list:{gap:12},button:{padding:16,borderRadius:10,backgroundColor:"#222",borderWidth:1,borderColor:"#444"},selectedButton:{backgroundColor:"#167B82",borderColor:"#00FFFF"},buttonText:{color:"#fff",fontSize:18,textAlign:"center"},selectedText:{fontWeight:"bold"}}),M=({navigation:e})=>{const{language:t,changeLanguage:n,SUPPORTED_LANGUAGES:o}=(0,r.useContext)(B);return(0,y.jsxs)(a.default,{style:L.container,children:[(0,y.jsx)(i.default,{style:L.title,children:"Select Language"}),(0,y.jsx)(E.default,{data:o,renderItem:({item:r})=>{const o=r===t;return(0,y.jsx)(g.default,{style:[L.button,o&&L.selectedButton],onPress:()=>(async t=>{await n(t),e.goBack()})(r),children:(0,y.jsxs)(i.default,{style:[L.buttonText,o&&L.selectedText],children:[O[r],"  ",r]})})},keyExtractor:e=>e,contentContainerStyle:L.list})]})},A=u.default.create({container:{flex:1,padding:24},title:{fontSize:28,marginBottom:24,textAlign:"center"},settingRow:{flexDirection:"row",justifyContent:"space-between",marginBottom:20,alignItems:"center"},label:{fontSize:18},userInfo:{marginTop:32,marginBottom:24},userLabel:{fontSize:14},userValue:{fontSize:16,marginBottom:12},buttonContainer:{gap:12},description:{marginTop:12,fontSize:14,fontStyle:"italic"}}),R=({navigation:e})=>{const{user:t,logout:n}=(0,r.useContext)(p),{soundOn:o,darkMode:s,showHints:l,updateSound:u,updateDarkMode:d,updateHints:f}=(0,r.useContext)(x),g=w();return(0,y.jsxs)(a.default,{style:[A.container,{backgroundColor:g.background}],children:[(0,y.jsx)(i.default,{style:[A.title,{color:g.text}],children:"Settings"}),(0,y.jsxs)(a.default,{style:A.settingRow,children:[(0,y.jsx)(i.default,{style:[A.label,{color:g.text}],children:"Sound"}),(0,y.jsx)(k.default,{value:o,onValueChange:u,thumbColor:o?g.highlight:"#888"})]}),(0,y.jsxs)(a.default,{style:A.settingRow,children:[(0,y.jsx)(i.default,{style:[A.label,{color:g.text}],children:"Dark Mode"}),(0,y.jsx)(k.default,{value:s,onValueChange:d,thumbColor:s?g.highlight:"#888"})]}),(0,y.jsxs)(a.default,{style:A.settingRow,children:[(0,y.jsx)(i.default,{style:[A.label,{color:g.text}],children:"Hints"}),(0,y.jsx)(k.default,{value:l,onValueChange:f,trackColor:{false:"#767577",true:"#81b0ff"},thumbColor:l?"#2196F3":"#f4f3f4"})]}),(0,y.jsx)(i.default,{style:[A.description,{color:g.border}],children:"When enabled, hints will show the first and last letter of the longest possible word."}),(0,y.jsxs)(a.default,{style:A.userInfo,children:[(0,y.jsx)(i.default,{style:[A.userLabel,{color:g.border}],children:"Username:"}),(0,y.jsx)(i.default,{style:[A.userValue,{color:g.text}],children:t?.username||"Guest"}),(0,y.jsx)(i.default,{style:[A.userLabel,{color:g.border}],children:"Email:"}),(0,y.jsx)(i.default,{style:[A.userValue,{color:g.text}],children:t?.email||"Not set"})]}),(0,y.jsxs)(a.default,{style:A.buttonContainer,children:[(0,y.jsx)(c.default,{title:"Logout",onPress:async()=>{await n(),e.replace("Login")}}),(0,y.jsx)(c.default,{title:"Back to Menu",onPress:()=>e.goBack()})]})]})};var G=n(9720),W=n.n(G);const D=(0,r.createContext)(),U=({children:e})=>{const[t,n]=(0,r.useState)({highScore:0,longestTime:0,totalPoints:0,streak:0,gamesPlayed:0,lastPlayed:null});(0,r.useEffect)((()=>{o()}),[]);const o=async()=>{const e=await h.default.getItem("userStats");e&&n(JSON.parse(e))},s=async e=>{n(e),await h.default.setItem("userStats",JSON.stringify(e))};return(0,y.jsx)(D.Provider,{value:{stats:t,updateStatsAfterGame:async({score:e,duration:n})=>{const r=W()(),o=t.lastPlayed?W()(t.lastPlayed):null,a=!o||!r.isSame(o,"day"),i=!o||1===r.diff(o,"day"),l=a?i?t.streak+1:1:t.streak,c={highScore:Math.max(t.highScore,e),longestTime:Math.max(t.longestTime,n),totalPoints:t.totalPoints+e,streak:l,gamesPlayed:t.gamesPlayed+1,lastPlayed:r.toISOString()};await s(c)},resetStats:async()=>{await s({highScore:0,longestTime:0,totalPoints:0,streak:0,gamesPlayed:0,lastPlayed:null})}},children:e})},H=({label:e,value:t,theme:n})=>(0,y.jsxs)(a.default,{style:N.statRow,children:[(0,y.jsx)(i.default,{style:[N.statLabel,{color:n.border}],children:e}),(0,y.jsx)(i.default,{style:[N.statValue,{color:n.text}],children:t})]}),N=u.default.create({container:{flex:1,padding:24},title:{fontSize:28,marginBottom:24,textAlign:"center"},message:{fontSize:18,textAlign:"center",marginBottom:16},statRow:{flexDirection:"row",justifyContent:"space-between",marginBottom:16,borderBottomWidth:1,paddingBottom:6},statLabel:{fontSize:16},statValue:{fontSize:16,fontWeight:"bold"}}),$=({navigation:e})=>{const{user:t}=(0,r.useContext)(p),{stats:n}=(0,r.useContext)(D),o=w();if(!t)return(0,y.jsxs)(a.default,{style:[N.container,{backgroundColor:o.background}],children:[(0,y.jsx)(i.default,{style:[N.title,{color:o.text}],children:"Statistics"}),(0,y.jsx)(i.default,{style:[N.message,{color:o.text}],children:"You must be logged in to view statistics."}),(0,y.jsx)(c.default,{title:"Back to Menu",onPress:()=>e.goBack()})]});const s=`${Math.floor(n.longestTime/60)}m ${n.longestTime%60}s`;return(0,y.jsxs)(a.default,{style:[N.container,{backgroundColor:o.background}],children:[(0,y.jsx)(i.default,{style:[N.title,{color:o.text}],children:"Your Statistics"}),(0,y.jsx)(H,{label:"High Score",value:n.highScore,theme:o}),(0,y.jsx)(H,{label:"Longest Time Played",value:s,theme:o}),(0,y.jsx)(H,{label:"Total Points Earned",value:n.totalPoints,theme:o}),(0,y.jsx)(H,{label:"Daily Streak",value:`${n.streak} days`,theme:o}),(0,y.jsx)(H,{label:"Games Played",value:n.gamesPlayed,theme:o}),(0,y.jsx)(a.default,{style:{marginTop:24},children:(0,y.jsx)(c.default,{title:"Back to Menu",onPress:()=>e.goBack()})})]})},V={English:{E:{frequency:12,points:1},T:{frequency:9,points:1},A:{frequency:9,points:1},O:{frequency:8,points:1},I:{frequency:8,points:1},N:{frequency:7,points:2},S:{frequency:7,points:2},R:{frequency:6,points:2},H:{frequency:6,points:2},D:{frequency:5,points:2},L:{frequency:5,points:2},C:{frequency:4,points:3},U:{frequency:4,points:3},M:{frequency:4,points:3},W:{frequency:3,points:4},F:{frequency:3,points:4},G:{frequency:3,points:4},Y:{frequency:3,points:4},P:{frequency:3,points:4},B:{frequency:2,points:5},V:{frequency:2,points:5},K:{frequency:1,points:8},J:{frequency:1,points:10},X:{frequency:1,points:10},Q:{frequency:1,points:10},Z:{frequency:1,points:10}},French:{E:{frequency:15,points:1},A:{frequency:9,points:1},I:{frequency:8,points:1},S:{frequency:7,points:1},N:{frequency:6,points:1},R:{frequency:6,points:1},T:{frequency:6,points:1},O:{frequency:6,points:1},L:{frequency:5,points:1},U:{frequency:5,points:1},D:{frequency:3,points:2},M:{frequency:3,points:2},G:{frequency:2,points:2},B:{frequency:2,points:3},C:{frequency:2,points:3},P:{frequency:2,points:3},F:{frequency:2,points:4},H:{frequency:1,points:4},V:{frequency:1,points:4},J:{frequency:1,points:8},Q:{frequency:1,points:8},K:{frequency:1,points:10},W:{frequency:1,points:10},X:{frequency:1,points:10},Y:{frequency:1,points:10},Z:{frequency:1,points:10}},Spanish:{A:{frequency:12,points:1},E:{frequency:12,points:1},O:{frequency:9,points:1},S:{frequency:6,points:1},N:{frequency:5,points:1},R:{frequency:5,points:1},I:{frequency:6,points:1},L:{frequency:4,points:1},U:{frequency:5,points:1},T:{frequency:4,points:1},D:{frequency:5,points:2},C:{frequency:4,points:3},M:{frequency:3,points:3},B:{frequency:2,points:3},P:{frequency:2,points:3},G:{frequency:2,points:3},Y:{frequency:1,points:4},H:{frequency:1,points:4},V:{frequency:1,points:4},J:{frequency:1,points:8},"\xd1":{frequency:1,points:8},X:{frequency:1,points:8},Z:{frequency:1,points:10}},German:{E:{frequency:15,points:1},N:{frequency:9,points:1},I:{frequency:8,points:1},S:{frequency:7,points:1},R:{frequency:6,points:1},A:{frequency:6,points:1},T:{frequency:6,points:1},D:{frequency:4,points:1},H:{frequency:4,points:2},U:{frequency:6,points:1},L:{frequency:3,points:2},C:{frequency:2,points:2},G:{frequency:3,points:2},M:{frequency:4,points:3},B:{frequency:2,points:3},W:{frequency:1,points:3},F:{frequency:2,points:4},K:{frequency:2,points:4},Z:{frequency:1,points:3},P:{frequency:1,points:4},"\xc4":{frequency:1,points:6},"\xd6":{frequency:1,points:8},"\xdc":{frequency:1,points:6},J:{frequency:1,points:6},V:{frequency:1,points:6},Y:{frequency:1,points:10},X:{frequency:1,points:8},Q:{frequency:1,points:10}},Persian:{"\u0627":{frequency:12,points:1},"\u0631":{frequency:9,points:1},"\u0646":{frequency:8,points:1},"\u06cc":{frequency:8,points:1},"\u062f":{frequency:7,points:2},"\u062a":{frequency:6,points:2},"\u0645":{frequency:6,points:2},"\u0628":{frequency:5,points:2},"\u06a9":{frequency:5,points:3},"\u0644":{frequency:4,points:3},"\u0633":{frequency:4,points:3},"\u0634":{frequency:3,points:4},"\u0632":{frequency:3,points:4},"\u06af":{frequency:2,points:5},"\u0686":{frequency:2,points:5},"\u0641":{frequency:2,points:5},"\u0642":{frequency:1,points:8},"\u0638":{frequency:1,points:10}},Turkish:{A:{frequency:12,points:1},E:{frequency:8,points:1},"\u0130":{frequency:4,points:1},K:{frequency:4,points:1},L:{frequency:4,points:1},R:{frequency:3,points:1},N:{frequency:3,points:1},T:{frequency:3,points:1},U:{frequency:3,points:1},M:{frequency:2,points:2},O:{frequency:2,points:2},S:{frequency:2,points:2},B:{frequency:2,points:3},D:{frequency:2,points:3},Y:{frequency:2,points:3},C:{frequency:2,points:4},H:{frequency:1,points:5},P:{frequency:1,points:5},Z:{frequency:1,points:5},"\xc7":{frequency:1,points:4},"\u011e":{frequency:1,points:8},"\u015e":{frequency:1,points:4},V:{frequency:1,points:7},F:{frequency:1,points:7},J:{frequency:1,points:10}}},J={English:["A","E","I","O","U"],French:["A","E","I","O","U","Y"],Spanish:["A","E","I","O","U"],German:["A","E","I","O","U","\xc4","\xd6","\xdc","Y"],Turkish:["A","E","\u0130","O","U","\xdc","\xd6"],Persian:["\u0627","\u0648","\u06cc"]};let Y={};const X=async e=>{if(Y[e])return Y[e];const t=e.toLowerCase();try{const n=await fetch(`/wordlists/${t}.txt`);if(!n.ok)throw new Error(`Fetch failed: ${n.status}`);const r=(await n.text()).split("\n").map((e=>e.trim().toUpperCase())),o=new Set(r);return Y[e]=o,o}catch(n){return console.error(`\u274c Failed to load wordlist for ${e}:`,n),new Set}},K=(e=9,t="English",n=!0)=>{const r=V[t]||V.English,o=new Set(J[t]||J.English),s=[];Object.entries(r).forEach((([e,{frequency:t}])=>{for(let n=0;n<t;n++)s.push(e)}));const a=()=>{const t=[];for(;t.length<e;){const e=s[Math.floor(Math.random()*s.length)];t.push(e)}return t},i=e=>{const t=e.filter((e=>o.has(e))),n=e.filter((e=>!o.has(e)));return t.length>=2&&n.length>=2};if(!n||e<4)return a();let l=0;for(;l<10;){const e=a();if(i(e))return e;l++}return a()},Z=(0,r.createContext)(),_=({children:e})=>{const{language:t}=(0,r.useContext)(B),[n,o]=(0,r.useState)(0),[s,a]=(0,r.useState)(60),[i,l]=(0,r.useState)(!1),[c,u]=(0,r.useState)(!1),[d,f]=(0,r.useState)(0),[g,h]=(0,r.useState)(""),[p,m]=(0,r.useState)([]),[x,S]=(0,r.useState)([]),[j,b]=(0,r.useState)([]),[q,C]=(0,r.useState)(null),[w,v]=(0,r.useState)(1),T=(0,r.useRef)(null),k=(0,r.useRef)(null),I=(0,r.useRef)(null);(0,r.useEffect)((()=>{console.log("\ud83d\udd04 Timer state changed:",{gameTime:s,timerRunning:i,timerFrozen:c,freezeTimeLeft:d})}),[s,i,c,d]);const P=()=>K(9,t);return(0,r.useEffect)((()=>(i&&!c&&(T.current&&(clearInterval(T.current),T.current=null),T.current=setInterval((()=>{a((e=>{const t=e-1;return t<=0?(clearInterval(T.current),l(!1),0):t}))}),1e3)),()=>{T.current&&(clearInterval(T.current),T.current=null)})),[i,c]),(0,r.useEffect)((()=>{if(q){const e=setInterval((()=>{const e=Math.floor((Date.now()-q)/1e3);var t;v((t=e)>=360?3:t>=180?2:1)}),5e3);return()=>clearInterval(e)}}),[q]),(0,y.jsx)(Z.Provider,{value:{score:n,setScore:o,gameTime:s,timerRunning:i,timerFrozen:c,freezeTimeLeft:d,gridLetters:p,setGridLetters:m,currentWord:x,setCurrentWord:S,selectedIndices:j,setSelectedIndices:b,gamePhase:w,setTimerRunning:l,startGame:()=>{t&&(clearInterval(T.current),clearInterval(k.current),I.current&&clearTimeout(I.current),o(0),a(60),S([]),b([]),m(P()),l(!0),u(!1),f(0),C(Date.now()),v(1),h(""))},resetGame:()=>{clearInterval(T.current),clearInterval(k.current),I.current&&clearTimeout(I.current),o(0),a(60),l(!1),S([]),b([]),m(P()),C(null),v(1),u(!1),f(0),h("")},backspace:()=>{0!==x.length&&0!==j.length&&(S((e=>e.slice(0,-1))),b((e=>e.slice(0,-1))))},tradeIn:()=>{if(0===j.length)return;const e=[...p],n=K(j.length,t);j.forEach(((t,r)=>{e[t]=n[r]})),m(e),S([]),b([]),o((e=>Math.max(e-5,0))),h("Traded in letters! -5 points"),I.current&&clearTimeout(I.current),I.current=setTimeout((()=>{h("")}),3e3)},shuffleLetters:()=>{const e=[...p];for(let t=e.length-1;t>0;t--){const n=Math.floor(Math.random()*(t+1));[e[t],e[n]]=[e[n],e[t]]}m(e),S([]),b([]),h("Letters shuffled!"),I.current&&clearTimeout(I.current),I.current=setTimeout((()=>{h("")}),3e3)},triggerFreeze:e=>{e<=0||(T.current&&(clearInterval(T.current),T.current=null),u(!0),f(e),k.current&&(clearInterval(k.current),k.current=null),k.current=setInterval((()=>{f((e=>e<=1?(clearInterval(k.current),k.current=null,u(!1),i&&(T.current&&clearInterval(T.current),T.current=setInterval((()=>{a((e=>{const t=e-1;return t<=0?(clearInterval(T.current),l(!1),0):t}))}),1e3)),0):e-1))}),1e3))},alertMessage:g,setAlertMessage:h,setAlertWithTimeout:(e,t=3e3)=>{I.current&&clearTimeout(I.current),h(e),I.current=setTimeout((()=>{h("")}),t)}},children:e})},Q=u.default.create({container:{alignItems:"flex-end",backgroundColor:"rgba(0, 0, 0, 0.5)",padding:5,borderRadius:5},timer:{fontSize:18,fontWeight:"bold",color:"#FFFFFF",textAlign:"right"},freeze:{fontSize:14,color:"#00BFFF",fontWeight:"500",marginTop:2}}),ee=()=>{const{gameTime:e,freezeTimeLeft:t,timerFrozen:n,timerRunning:o}=(0,r.useContext)(Z),s=e=>{if(void 0===e||null===e)return"00:00";return`${String(Math.floor(e/60)).padStart(2,"0")}:${String(e%60).padStart(2,"0")}`};return(0,r.useEffect)((()=>{console.log("\u23f1\ufe0f TimerDisplay render \u2192",{gameTime:e,freezeTimeLeft:t,timerFrozen:n,timerRunning:o,displayValue:e})}),[e,t,n,o]),(0,y.jsxs)(a.default,{style:Q.container,children:[(0,y.jsx)(i.default,{style:Q.timer,children:s(e)}),n&&t>0&&(0,y.jsxs)(i.default,{style:Q.freeze,children:["Freeze: ",s(t)]})]})},te=u.default.create({container:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginBottom:12,paddingHorizontal:4},text:{fontSize:16,textAlign:"center"},message:{fontSize:18,fontWeight:"600",textAlign:"center",minHeight:24},username:{fontSize:14,marginTop:4,textAlign:"center"},center:{alignItems:"center"},timerWrapper:{alignItems:"flex-end",minWidth:80,zIndex:10}}),ne=()=>{const{score:e,gridLetters:t,gameTime:n,timerRunning:o,timerFrozen:s,alertMessage:l}=(0,r.useContext)(Z),{showHints:c}=(0,r.useContext)(x),{language:u}=(0,r.useContext)(B),{user:d}=(0,r.useContext)(p),f=w(),[g,h]=(0,r.useState)(new Set),[m,S]=(0,r.useState)(""),j=d?.username||"Guest";(0,r.useEffect)((()=>{console.log("\ud83d\udcca HeaderBar timer state:",{gameTime:n,timerRunning:o,timerFrozen:s})}),[n,o,s]),(0,r.useEffect)((()=>{(async()=>{const e=await X(u);h(e)})()}),[u]),(0,r.useEffect)((()=>{if(!c||0===t.length||0===g.size)return void S("");const e=t.join("");let n="";if(g.forEach((t=>{const r=t.toUpperCase();r.length>=3&&b(r,e)&&r.length>n.length&&(n=r)})),n.length>=3){const e=`${n[0]}${"-".repeat(n.length-2)}${n[n.length-1]}`;S(e)}else S("")}),[c,t,g]);const b=(e,t)=>{const n=[...t];for(let r of e){const e=n.indexOf(r);if(-1===e)return!1;n.splice(e,1)}return!0};return(0,y.jsxs)(a.default,{style:te.container,children:[(0,y.jsxs)(i.default,{style:[te.text,{color:f.text}],children:["SCORE","\n",e]}),(0,y.jsxs)(a.default,{style:te.center,children:[(0,y.jsx)(i.default,{style:[te.message,{color:f.text}],children:l||(c&&m?m:"")}),(0,y.jsxs)(i.default,{style:[te.username,{color:f.border}],children:["\ud83d\udc64 ",j]})]}),(0,y.jsx)(a.default,{style:te.timerWrapper,children:(0,y.jsx)(ee,{})})]})},re=u.default.create({container:{padding:12,borderRadius:8,marginBottom:12},word:{fontSize:28,textAlign:"center"}}),oe=()=>{const{currentWord:e}=(0,r.useContext)(Z),t=w();return(0,y.jsx)(a.default,{style:[re.container,{backgroundColor:t.card}],children:(0,y.jsx)(i.default,{style:[re.word,{color:t.text}],children:e.join("")})})},se=u.default.create({row:{flexDirection:"row",justifyContent:"space-between",gap:8,marginVertical:8}}),ae=({onBackspace:e,onTradeIn:t,onShuffle:n})=>(0,y.jsxs)(a.default,{style:se.row,children:[(0,y.jsx)(c.default,{title:"BACKSPACE",onPress:e}),(0,y.jsx)(c.default,{title:"TRADE IN",onPress:t}),(0,y.jsx)(c.default,{title:"SHUFFLE",onPress:n})]}),ie={A:1,B:3,C:3,D:2,E:1,F:4,G:2,H:4,I:1,J:8,K:5,L:1,M:3,N:1,O:1,P:3,Q:10,R:1,S:1,T:1,U:1,V:4,W:4,X:8,Y:4,Z:10},le=u.default.create({grid:{gap:12,marginBottom:16},row:{flexDirection:"row",justifyContent:"center",gap:12},tile:{width:80,height:80,alignItems:"center",justifyContent:"center",borderRadius:10},letter:{fontSize:28,fontWeight:"bold"},points:{fontSize:12}}),ce=()=>{const{gridLetters:e,currentWord:t,setCurrentWord:n,selectedIndices:o,setSelectedIndices:s}=(0,r.useContext)(Z),l=w();return(0,y.jsx)(a.default,{style:le.grid,children:(()=>{const t=[];for(let n=0;n<e.length;n+=3)t.push(e.slice(n,n+3));return t})().map(((e,r)=>(0,y.jsx)(a.default,{style:le.row,children:e.map(((e,a)=>{const c=3*r+a,u=o.includes(c),d=e.toUpperCase(),f=ie[d]||1;return(0,y.jsxs)(g.default,{disabled:u,onPress:()=>((e,r)=>{o.includes(r)||(n([...t,e]),s([...o,r]))})(e,c),style:[le.tile,{backgroundColor:u?l.background:l.card}],children:[(0,y.jsx)(i.default,{style:[le.letter,{color:l.text}],children:u?"":e}),(0,y.jsx)(i.default,{style:[le.points,{color:l.border}],children:u?"":f})]},c)}))},r)))})},ue=u.default.create({button:{paddingVertical:16,borderRadius:12,alignItems:"center",marginTop:12},text:{fontSize:18,fontWeight:"bold"}}),de=({onSubmit:e,disabled:t})=>{const n=w();return(0,y.jsx)(g.default,{style:[ue.button,{backgroundColor:t?n.border:n.highlight,opacity:t?.6:1}],onPress:e,disabled:t,children:(0,y.jsx)(i.default,{style:[ue.text,{color:n.text}],children:"SUBMIT"})})},fe={3:1,4:1,5:1.5,6:2,7:3,8:4,9:5},ge={A:1,B:3,C:3,D:2,E:1,F:4,G:2,H:4,I:1,J:8,K:5,L:1,M:3,N:1,O:1,P:3,Q:10,R:1,S:1,T:1,U:1,V:4,W:4,X:8,Y:4,Z:10},he=u.default.create({container:{flex:1,paddingVertical:20,paddingHorizontal:12,justifyContent:"space-between"}}),ye=()=>{const{currentWord:e,setCurrentWord:t,score:n,setScore:s,gameTime:i,selectedIndices:l,setSelectedIndices:c,setGridLetters:u,startGame:d,backspace:f,tradeIn:g,shuffleLetters:h,gamePhase:p,triggerFreeze:m,setAlertWithTimeout:x}=(0,r.useContext)(Z),{language:S}=(0,r.useContext)(B),j=(0,o.useNavigation)(),b=w(),[q,C]=(0,r.useState)(new Set);(0,r.useEffect)((()=>{(async()=>{const e=await X(S);console.log(`\u2705 Loaded ${e.size} words for ${S}`),C(e)})()}),[S]),(0,r.useEffect)((()=>{d()}),[]),(0,r.useEffect)((()=>{i<=0&&null!==i&&j.navigate("GameOver")}),[i]);return(0,y.jsxs)(a.default,{style:[he.container,{backgroundColor:b.background}],children:[(0,y.jsx)(ne,{}),(0,y.jsx)(oe,{}),(0,y.jsx)(ae,{onBackspace:f,onTradeIn:()=>g(S,!1),onShuffle:h}),(0,y.jsx)(ce,{}),(0,y.jsx)(de,{onSubmit:()=>{const n=e.join("");if(n.length<3)x("Words must be at least 3 letters!");else if(((e,t)=>t.has(e.toUpperCase()))(n,q)){const e=(e=>{const t=e.toUpperCase().split("").reduce(((e,t)=>e+(ge[t]||0)),0),n=fe[e.length]||1;return Math.round(t*n)})(n);s((t=>t+e)),x(`"${n}" earned ${e} points!`);const r=((e,t)=>{if(1===t){if(4===e)return 3;if(5===e)return 5;if(e>=6)return 7}else if(2===t){if(4===e)return 1;if(5===e)return 3;if(e>=6)return 5}else if(3===t){if(5===e)return 1;if(e>=6)return 3}return 0})(n.length,p);r>0&&(m(r),setTimeout((()=>{x(`+${r} second freeze!`)}),1e3)),u((e=>{const t=[...e],n=K(l.length,S);return l.forEach(((e,r)=>{t[e]=n[r]})),t})),t([]),c([])}else x(`"${n}" is not a valid word!`),t([]),c([])}})]})},pe=u.default.create({container:{flex:1,padding:24,justifyContent:"center",alignItems:"center"},title:{fontSize:36,marginBottom:20},score:{fontSize:24,marginBottom:10},time:{fontSize:20,marginBottom:30},buttonContainer:{gap:12,width:"100%",paddingHorizontal:20,marginTop:24},shareSection:{marginBottom:20,alignItems:"center"},shareTitle:{fontSize:20,marginBottom:8},shareButtons:{flexDirection:"row",gap:12},shareButton:{fontSize:16,textDecorationLine:"underline"}}),me=({navigation:e})=>{const{score:t,gameStartTime:n,resetGame:o,startGame:s}=(0,r.useContext)(Z),{updateStatsAfterGame:l}=(0,r.useContext)(D),u=w(),[f,h]=(0,r.useState)(0);(0,r.useEffect)((()=>{if(n){const e=Date.now(),r=Math.floor((e-n)/1e3);h(r),l({score:t,duration:r})}}),[n]);const p=e=>{d.default.alert("Coming Soon",`Sharing to ${e} is coming soon! \ud83c\udf89`)};return(0,y.jsxs)(a.default,{style:[pe.container,{backgroundColor:u.background}],children:[(0,y.jsx)(i.default,{style:[pe.title,{color:u.text}],children:"Game Over"}),(0,y.jsxs)(i.default,{style:[pe.score,{color:u.text}],children:["Final Score: ",t]}),(0,y.jsxs)(i.default,{style:[pe.time,{color:u.border}],children:["Total Time: ",`${String(Math.floor(f/60)).padStart(2,"0")}:${String(f%60).padStart(2,"0")}`]}),(0,y.jsxs)(a.default,{style:pe.shareSection,children:[(0,y.jsx)(i.default,{style:[pe.shareTitle,{color:u.text}],children:"Share My Score"}),(0,y.jsxs)(a.default,{style:pe.shareButtons,children:[(0,y.jsx)(g.default,{onPress:()=>p("Facebook"),children:(0,y.jsx)(i.default,{style:[pe.shareButton,{color:u.highlight}],children:"Facebook"})}),(0,y.jsx)(g.default,{onPress:()=>p("Instagram"),children:(0,y.jsx)(i.default,{style:[pe.shareButton,{color:u.highlight}],children:"Instagram"})}),(0,y.jsx)(g.default,{onPress:()=>p("X"),children:(0,y.jsx)(i.default,{style:[pe.shareButton,{color:u.highlight}],children:"X (Twitter)"})})]})]}),(0,y.jsxs)(a.default,{style:pe.buttonContainer,children:[(0,y.jsx)(c.default,{title:"Play Again",onPress:()=>{o(),s(),e.navigate("Game")}}),(0,y.jsx)(c.default,{title:"Back to Menu",onPress:()=>{o(),e.navigate("Login")}})]})]})},xe=(0,s.createNativeStackNavigator)(),Se=()=>(0,y.jsxs)(xe.Navigator,{screenOptions:{headerShown:!1},children:[(0,y.jsx)(xe.Screen,{name:"Login",component:T}),(0,y.jsx)(xe.Screen,{name:"Register",component:P}),(0,y.jsx)(xe.Screen,{name:"Language",component:M}),(0,y.jsx)(xe.Screen,{name:"Settings",component:R}),(0,y.jsx)(xe.Screen,{name:"Statistics",component:$}),(0,y.jsx)(xe.Screen,{name:"Game",component:ye}),(0,y.jsx)(xe.Screen,{name:"GameOver",component:me})]});function je(){return console.log("\u2705 App.js loaded"),(0,y.jsx)(m,{children:(0,y.jsx)(F,{children:(0,y.jsx)(S,{children:(0,y.jsx)(C,{children:(0,y.jsx)(U,{children:(0,y.jsxs)(_,{children:[" ",(0,y.jsx)(o.NavigationContainer,{children:(0,y.jsx)(Se,{})})]})})})})})})}}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var s=t[r]={exports:{}};return e[r].call(s.exports,s,s.exports,n),s.exports}n.m=e,(()=>{var e=[];n.O=(t,r,o,s)=>{if(!r){var a=1/0;for(u=0;u<e.length;u++){for(var[r,o,s]=e[u],i=!0,l=0;l<r.length;l++)(!1&s||a>=s)&&Object.keys(n.O).every((e=>n.O[e](r[l])))?r.splice(l--,1):(i=!1,s<a&&(a=s));if(i){e.splice(u--,1);var c=o();void 0!==c&&(t=c)}}return t}s=s||0;for(var u=e.length;u>0&&e[u-1][2]>s;u--)e[u]=e[u-1];e[u]=[r,o,s]}})(),n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e={792:0};n.O.j=t=>0===e[t];var t=(t,r)=>{var o,s,[a,i,l]=r,c=0;if(a.some((t=>0!==e[t]))){for(o in i)n.o(i,o)&&(n.m[o]=i[o]);if(l)var u=l(n)}for(t&&t(r);c<a.length;c++)s=a[c],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return n.O(u)},r=self.webpackChunkweb=self.webpackChunkweb||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var r=n.O(void 0,[325],(()=>n(4424)));r=n.O(r)})();
//# sourceMappingURL=main.2410256e.js.map